<!DOCTYPE html>
<html>
  <head>
  <style>
.center {
    margin-left: auto;
    margin-right: auto;
    width: 70%;
}
</style>
<style>
.right {
    position: absolute;
    right: 0px;
    width: 300px;
}
</style>
    <title>Welcome!</title>
       <link href="../static/css/styles.css" rel="stylesheet">

     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
     <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
  <script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    

 </head>
  <body ng-app="" ng-controller="linkedinController" id="main">
      
          <nav class="navbar navbar-default navbar-fixed-top navbar-inverse">
     
            <div class="container-fluid">
                <a class="navbar-brand" href="#">BRAND</a>
                <!--<img src="connectme.png" class="pull-left" id="brandimg"/>-->
                <form class="navbar-form navbar-left" role="search" id="searchbar">
                    <div class="form-group">
                      <input type="text" class="form-control" placeholder="Jobs, People">
                    </div>
                        <a href="#"><span class="glyphicon glyphicon-search"></span>Search</a>
                </form>
                    <ul class="nav nav-pills pull-right">
                           <li><a href="#">Home</a></li>
                           <li><a href class="active glyphicon glyphicon-user" ng-click="switchToUser()">User</a></li>
                           <li><a href="/logout" class="glyphicon glyphicon-log-out">Logout</a></li>
                    </ul>
                
                <!--<p class ="navbar-text pull-right">
                    <a href="#" class="navbar-link"</a>
                </p>-->
            </div>
        </nav>
    
            <div class="row">
                <div class="col-xs-4">
                    <p style="top:12%; left:65%; position:fixed">Last logged in:<span id="demo"></span>
                        <script>
                                document.getElementById("demo").innerHTML = Date();
                        </script>
                    </p>    
                </div>
            </div>
        
            

            <form name="myForm">
                      <div class="container" style="margin-bottom: 30px">                
                      <canvas id="canvas" width="5" height="5"></canvas>
                             
                    <div class="container" id="infoContainer" style="margin-top:-10%">
                          <center><legend style="font-style: 30px;">Personal Details</legend></center>
                           
                            <div>
                              Firstname:
                                        <input type="text" ng-model="firstname" placeholder="" name="firstname" class="form-control">
                                 
                              </div><br>
                          
                          <div>
                              Lastname:
                                        <input type="text" ng-model="lastname" placeholder="" name="lastname" class="form-control" >
                                 
                              </div><br>
                           <div>
                              Address:
                                        <input type="text" ng-model="address" placeholder="" class="form-control" >
                                 
                              </div><br>
                           <div>
                              Country:
                                        <input type="text" ng-model="country" placeholder="" class="form-control" >
                                 
                              </div><br>
                            <div>
                              ZipCode:
                                        <input type="text" ng-model="zipcode" placeholder="" class="form-control" >
                                 
                            </div><br>
                         
                            <div>
                             Summary:
                                    <textarea ng-model="bio" class="form-control" rows="5"></textarea>
                              
                            </div><br>
                                <span></span>
                                <input type="reset" class="btn btn-default" value="Cancel">
                              </div>
                          </div><br>
                        </div>
                    
                    </div>

                    <div class="container" style="margin-bottom: 30px">
                        
                        <div class="container" id="infoContainer">
                             <center><legend style="font-style: 30px;">Experience</legend></center>

                          
                             <div>
                              Company Name:
                                        <input type="text" ng-model="companyName" name="companyName" id="compamyName"placeholder="" class="form-control" >
                                 
                              </div><br>
                            <div>
                              Title: 
                                    <input type="text" ng-model="inputTitle" name="inputTitle" placeholder="" class="form-control">
                                
                              </div><br>
                             <div>
                              Start Date: 
                                       <input type="date" ng-model="startDate" name="startdate" placeholder="" class="form-control">

                             </div><br>
                             <div>
                              End Date: 
                                       <input type="date" ng-model="endDate" name="enddate" placeholder="" class="form-control">
                               
                             </div><br>
                             <div>
                              Description: 
                              <textarea ng-model="companyDescription" class="form-control" rows="5"></textarea>
                              
                            </div><br>
                             <div>                           
                                <span></span>
                                <input type="reset" class="btn btn-default" value="Cancel">
                              </div><br>
                              </div>
                        </div>
                            
                       <div class="container" style="margin-bottom: 30px">
                           <div class="container" id="infoContainer">
                            <center><legend style="font-style: 30px;">Education</legend></center>
                              <div>
                               School: 
                                        <input type="text" ng-model="inputSchool" name="inputSchool" placeholder="" class="form-control">
                              
                              </div><br>
                              <div>
                               Degree: 
                                       <input type="text" ng-model="degree" placeholder="" class="form-control">
                               
                                </div><br>
                              <div>
                               Field: 
                                       <input type="text" ng-model="inputField" name="inputField" placeholder="" class="form-control">
                               
                                </div><br>
                                <div>
                               Grade: 
                                      <input type="text" ng-model="grade" name="level" placeholder="" class="form-control">
                                
                                </div><br>
                               <div>
                               Degree Level: 
                                      <input type="text" ng-model="inputLevel" name="level" placeholder="" class="form-control">
                                
                                </div><br>
                             <div>
                            
                              <div>
                               Start Date: 
                                        <input type="text" ng-model="schoolStartDate"  placeholder="" class="form-control">
                               
                             </div><br>
                            <div>
                              End Date: 
                                      <input type="text" ng-model="schoolEndDate"  placeholder="" class="form-control">
                               
                             </div><br>
                                
                              </div><br><br>
                             <br><br>
                          </div>
                        </div>
                            <div class="row" style="width:60%; float:right">
                              <input type="button" ng-click="saveInfo()" class="btn btn-primary" value="Save Changes" style="margin-left:-15px">
                                <input type="reset" class="btn btn-default" value="Cancel">

                            </div>
                  </form>
        <script>
        function linkedinController($scope,$http,$location) {
           
          
        $scope.image=function() {
          var canvas = document.getElementById("canvas");
        var dataURL = canvas.toDataURL();
        console.log("here we are");
        console.log(dataURL);
        };
               
               $scope.saveInfo = function() {
                  $http({
                        method: 'POST',
                        url: '/userProfile',
                        data: { 
                                "Address":$scope.address,
                                "Country":$scope.country,
                                "ZipCode":$scope.zipcode,
                                "Bio":$scope.bio,
                                "CompanyName": $scope.companyName, 
                                "CompanyTitle": $scope.inputTitle,                               
                                "CompanyStartDate": $scope.startDate,
                                "CompanyEndDate": $scope.endDate,
                                "CompanyDescription": $scope.inputDescription,
                                "EducationSchool": $scope.inputSchool,
                                "EducationDegree":$scope.degree,                            
                                "EducationField": $scope.inputField,
                                "Level": $scope.inputLevel,
                                "Grade": $scope.inputGrade,
                                "EducationStartDate": $scope.schoolStartDate,
                                "EducationEndDate": $scope.schoolEndDate                                             
                                
                            }
                        
                     }).success(function(response){
                       
                        alert(JSON.stringify(response));
                        
                        if(response.save == "Success")
                          window.location = '/profile/user';
                        else
                          window.location = '/profile/user';
                    }).error(function(error){
                        alert("error");
                    });
                };
 
        }
        </script> 
  </body>
</html>